(self.webpackChunkpic_playce=self.webpackChunkpic_playce||[]).push([[9462],{9462:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GamePageModule:()=>N});var n=i(8583),r=i(665),s=i(7823),o=i(8977),c=i(8259),a=i.n(c),l=i(8748),g=i(639),d=i(421),u=i(9342);function p(e,t){1&e&&g._UZ(0,"div",17)}function m(e,t){1&e&&g._UZ(0,"img",36)}function h(e,t){if(1&e&&(g.TgZ(0,"span",37),g._uU(1),g.qZA()),2&e){const e=g.oxw(2).$implicit;g.xp6(1),g.Oqu(e.user_name)}}function f(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div",38),g.TgZ(1,"ion-button",39),g.NdJ("click",function(){g.CHM(e);const t=g.oxw().$implicit;return g.oxw(2).onPlayGame(t)}),g._uU(2,"Play"),g.qZA(),g.qZA()}}function x(e,t){if(1&e&&(g.TgZ(0,"div",31),g.YNc(1,p,1,0,"div",32),g.YNc(2,m,1,0,"img",33),g.YNc(3,h,2,1,"span",34),g.YNc(4,f,3,0,"div",35),g.qZA()),2&e){const e=t.$implicit;g.xp6(1),g.Q6J("ngIf",!e.id),g.xp6(1),g.Q6J("ngIf",e.id),g.xp6(1),g.Q6J("ngIf",e.id),g.xp6(1),g.Q6J("ngIf",e.id)}}function w(e,t){if(1&e&&(g.ynx(0),g.YNc(1,x,5,4,"div",30),g.BQk()),2&e){const e=t.$implicit;g.xp6(1),g.Q6J("ngForOf",e.games)}}function _(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"button",39),g.NdJ("click",function(){return g.CHM(e),g.oxw().claimAllReward()}),g._uU(1,"Calim All"),g.qZA()}}function v(e,t){if(1&e&&(g.TgZ(0,"span",37),g._uU(1),g.qZA()),2&e){const e=g.oxw(2).$implicit;g.xp6(1),g.hij("",e.player.user_name," cracked your code")}}function Z(e,t){if(1&e&&(g.TgZ(0,"span",37),g._uU(1),g.qZA()),2&e){const e=g.oxw(2).$implicit;g.xp6(1),g.hij("You cracked ",e.user.user_name," Code")}}function b(e,t){if(1&e&&(g.TgZ(0,"span",37),g._uU(1),g.qZA()),2&e){const e=g.oxw(2).$implicit;g.xp6(1),g.hij("You cracked ",e.player.user_name,"")}}function C(e,t){if(1&e&&(g.TgZ(0,"span",37),g._uU(1),g.qZA()),2&e){const e=g.oxw(2).$implicit;g.xp6(1),g.hij("",e.user.user_name," Cracked your code ")}}function O(e,t){if(1&e){const e=g.EpF();g.ynx(0),g.TgZ(1,"div",31),g._UZ(2,"img",36),g.YNc(3,v,2,1,"span",34),g.YNc(4,Z,2,1,"span",34),g.YNc(5,b,2,1,"span",34),g.YNc(6,C,2,1,"span",34),g.TgZ(7,"div",38),g.TgZ(8,"ion-button",39),g.NdJ("click",function(){const t=g.CHM(e).$implicit,i=g.oxw().index;return g.oxw().onRewardUpdate(t,i)}),g._uU(9,"Claim "),g.qZA(),g.qZA(),g.qZA(),g.BQk()}if(2&e){const e=t.$implicit,i=g.oxw().$implicit,n=g.oxw();g.xp6(3),g.Q6J("ngIf",i.user_id==n.user.id&&3==e.reward_id),g.xp6(1),g.Q6J("ngIf",i.player_id==n.user.id&&2==e.reward_id),g.xp6(1),g.Q6J("ngIf",i.user_id==n.user.id&&2==e.reward_id),g.xp6(1),g.Q6J("ngIf",i.player_id==n.user.id&&3==e.reward_id)}}function y(e,t){if(1&e&&(g.ynx(0),g.YNc(1,O,10,4,"ng-container",23),g.BQk()),2&e){const e=t.$implicit;g.xp6(1),g.Q6J("ngForOf",e.claim_reward)}}function P(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"button",39),g.NdJ("click",function(){return g.CHM(e),g.oxw().giveRewardToAll()}),g._uU(1,"Calim All"),g.qZA()}}function M(e,t){if(1&e&&(g.TgZ(0,"span",37),g._uU(1),g.qZA()),2&e){const e=g.oxw(2).$implicit;g.xp6(1),g.hij("Give Reward to ",e.user.user_name,"")}}function q(e,t){if(1&e&&(g.TgZ(0,"span",37),g._uU(1),g.qZA()),2&e){const e=g.oxw(2).$implicit;g.xp6(1),g.hij("Give Reward to ",e.player.user_name,"")}}function T(e,t){if(1&e){const e=g.EpF();g.ynx(0),g.TgZ(1,"div",31),g._UZ(2,"img",36),g.YNc(3,M,2,1,"span",34),g.YNc(4,q,2,1,"span",34),g.TgZ(5,"div",38),g.TgZ(6,"ion-button",39),g.NdJ("click",function(){const t=g.CHM(e).$implicit,i=g.oxw().index;return g.oxw().onRewardUpdate(t,i)}),g._uU(7,"Claim"),g.qZA(),g.qZA(),g.qZA(),g.BQk()}if(2&e){const e=t.$implicit,i=g.oxw().$implicit,n=g.oxw();g.xp6(3),g.Q6J("ngIf",i.player_id==n.user.id&&4==e.reward_id),g.xp6(1),g.Q6J("ngIf",i.user_id==n.user.id&&4==e.reward_id)}}function A(e,t){if(1&e&&(g.ynx(0),g.YNc(1,T,8,2,"ng-container",23),g.BQk()),2&e){const e=t.$implicit;g.xp6(1),g.Q6J("ngForOf",e.give_reward)}}const L=function(){return["/main/store"]},k=[{path:"",component:(()=>{class e{constructor(e,t,i,n,r){this.restService=e,this.router=t,this.navCtrl=i,this.activatedRoute=n,this.googlePlus=r,this.progressPercent=0,this.gameList=null,this.claimList=[],this.levelList=[],this.showMoveList=!1,this.showRewardList=!1,this.showGiveRewardList=!1,this.showClaimBtn=!1,this.showGiveRewardClaimBtn=!1,l.V.requestPermissions().then(e=>{"granted"===e.receive&&l.V.register()}),l.V.addListener("pushNotificationReceived",e=>{let t=!0;e&&t&&(t=!1,this.showMoveList=!1,this.gameList=[],this.restService.getRequest("games/get-game").subscribe(e=>{e.user&&(this.gameList=e.user,console.log("this.gameList",this.gameList),this.showMoveList=!0,a().fire({title:"Sucess",text:"New Game Received",showCloseButton:!0}))}),this.getUserDetail(),this.getCalimList())})}ionViewDidEnter(){this.getUserDetail()}ngOnInit(){this.getGameList(),this.getUserDetail(),this.getCalimList(),this.activatedRoute.snapshot.paramMap.get("gameSent")&&(this.getGameList(),this.getUserDetail(),this.getCalimList()),this.showMoveList=!1,this.user=JSON.parse(localStorage.getItem("user")),this.getLevelList(),this.showMoveList=!1,console.log("User",this.user)}ionViewWillEnter(){this.getCalimList()}onPlayGame(e){this.router.navigate(["play-game",{game:JSON.stringify(e)}],{replaceUrl:!0})}onRewardUpdate(e,t){this.claimList[t].claim_reward.splice(this.claimList[t].claim_reward.indexOf(e),1);const i={game_id:e.game_id,reward_id:e.reward_id,player_id:e.friend_id};console.log("calim list",this.claimList),this.restService.postRequestToken("claim/claim-reward",i).subscribe(e=>{e&&(this.getCalimList(),this.restService.getRequest("users/detail").subscribe(e=>{this.user=e,localStorage.setItem("user",JSON.stringify(e)),a().fire({title:'<div><img src="assets/icon/greencheck.png" style="width: 20vw; height:20vw;"><br><h5>Claimed all!</h5></div>',text:"Reward is claimed",confirmButtonText:"Cool",confirmButtonColor:"#99C43C",allowOutsideClick:!0})}))})}getLevelList(){this.restService.getRequest("users/get-level-list").subscribe(e=>{let t=null,i=null;if(this.levelList=e.message,this.user=localStorage.getItem("user"),this.user=JSON.parse(this.user),t=this.levelList.filter(e=>e.id==this.user.level_id),i=this.levelList.filter(e=>e.id==this.user.level_id+1),t[0]){const e=i[0].experience-t[0].experience;this.user.experience>t[0].experience&&(this.progressPercent=(this.user.experience-t[0].experience)/e*100)}else this.progressPercent=0})}onNewGameEvent(){this.navCtrl.navigateForward("/contactlist")}getGameList(){this.restService.getRequest("games/get-game").subscribe(e=>{e.user&&!this.showMoveList&&(this.gameList=e.user,this.showMoveList=!0)})}getUserDetail(){this.restService.getRequest("users/detail").subscribe(e=>{this.user=e,localStorage.setItem("user",JSON.stringify(e))})}getCalimList(){this.restService.getRequest("claim/claim-list").subscribe(e=>{e.claim&&(this.claimList=e.claim,console.log("Claim list",this.claimList),this.showRewardList=!0)})}claimAllReward(){let e=[];this.claimList.forEach(t=>{t.claim_reward.forEach(t=>{4!=t.reward_id&&e.push(t)})}),this.restService.postRequestToken("claim/claim-reward-for-all",{list:e}).subscribe(e=>{e&&(this.getCalimList(),this.restService.getRequest("users/detail").subscribe(e=>{this.user=e,localStorage.setItem("user",JSON.stringify(e)),a().fire({title:'<div><img src="assets/icon/greencheck.png" style="width: 20vw; height:20vw;"><br><h5>Claimed all!</h5></div>',text:"Reward is claimed",confirmButtonText:"Cool",confirmButtonColor:"#99C43C",allowOutsideClick:!0})}))})}giveRewardToAll(){let e=[];this.claimList.forEach(t=>{t.give_reward.forEach(t=>{4==t.reward_id&&e.push(t)})}),console.log("----\x3e",e),this.restService.postRequestToken("claim/give-reward-to-all",{list:e}).subscribe(e=>{e&&(this.getCalimList(),this.restService.getRequest("users/detail").subscribe(e=>{this.user=e,localStorage.setItem("user",JSON.stringify(e)),a().fire({title:'<div><img src="assets/icon/greencheck.png" style="width: 20vw; height:20vw;"><br><h5>Claimed all!</h5></div>',text:"Reward is claimed",confirmButtonText:"Cool",confirmButtonColor:"#99C43C",allowOutsideClick:!0})}))})}refreshGame(e){setTimeout(()=>{e.target.complete()},2e3)}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(d.v),g.Y36(o.F0),g.Y36(s.SH),g.Y36(o.gz),g.Y36(u.Q))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-game"]],decls:56,vars:14,consts:[["slot","fixed",3,"ionRefresh"],["pullingIcon","arrown-dropdown","refreshingSpinner","circles","refreshingText","Refreshing ..."],[1,"blue-bg"],[1,"user-container"],[1,"img-container"],["src","assets/dummy-user.jpg","alt","","width","55",2,"border-radius","50%","vertical-align","middle"],[1,"pl-10","username-css"],[1,"box"],["src","assets/currency-logo.svg","alt","",2,"z-index","1"],[1,"currency-bg"],[1,"content-center","font-700","f-12"],[1,"plus-bg","ml--10",3,"routerLink"],["width","15","src","assets/plus.svg","alt",""],[1,"mt-10"],[1,"lvl-card-container"],[1,"lvl-circle"],[1,"lvl-loader"],[1,"loader"],[1,"lvl-circle-y",2,"margin-left","auto"],["size","12"],[1,"card"],[1,"card-header","move"],[1,"card-body"],[4,"ngFor","ngForOf"],[1,"card-header","reward"],[1,"body-header"],["class","cus-btn",3,"click",4,"ngIf"],[1,"card-header","givereward"],[1,"play-cus-btn"],[3,"click"],["class","top-box mt-10",4,"ngFor","ngForOf"],[1,"top-box","mt-10"],["class","loader",4,"ngIf"],["class","ml-10","src","assets/dummy-user.jpg","alt","","width","55","style","border-radius: 50%",4,"ngIf"],["class","ml-2",4,"ngIf"],["class","btn-end",4,"ngIf"],["src","assets/dummy-user.jpg","alt","","width","55",1,"ml-10",2,"border-radius","50%"],[1,"ml-2"],[1,"btn-end"],[1,"cus-btn",3,"click"]],template:function(e,t){1&e&&(g.TgZ(0,"ion-content"),g.TgZ(1,"ion-refresher",0),g.NdJ("ionRefresh",function(e){return t.refreshGame(e)}),g._UZ(2,"ion-refresher-content",1),g.qZA(),g.TgZ(3,"ion-grid"),g.TgZ(4,"ion-row",2),g.TgZ(5,"div",3),g.TgZ(6,"div",4),g._UZ(7,"img",5),g.TgZ(8,"span",6),g._uU(9),g.qZA(),g.qZA(),g.TgZ(10,"div",7),g._UZ(11,"img",8),g.TgZ(12,"div",9),g.TgZ(13,"div",10),g.TgZ(14,"span"),g._uU(15),g.qZA(),g.qZA(),g.qZA(),g.TgZ(16,"div",11),g._UZ(17,"img",12),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(18,"ion-row",13),g.TgZ(19,"div",14),g.TgZ(20,"div",15),g.TgZ(21,"span"),g._uU(22),g.qZA(),g.qZA(),g.TgZ(23,"div",16),g._UZ(24,"div",17),g.qZA(),g.TgZ(25,"div",18),g.TgZ(26,"span"),g._uU(27),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(28,"ion-row"),g.TgZ(29,"ion-col",19),g.TgZ(30,"div",20),g.TgZ(31,"div",21),g._uU(32,"Your Move"),g.qZA(),g.TgZ(33,"div",22),g.YNc(34,w,2,1,"ng-container",23),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(35,"ion-row"),g.TgZ(36,"ion-col",19),g.TgZ(37,"div",20),g.TgZ(38,"div",24),g._uU(39,"Reward"),g.qZA(),g.TgZ(40,"div",22),g.TgZ(41,"div",25),g.YNc(42,_,2,0,"button",26),g.qZA(),g.YNc(43,y,2,1,"ng-container",23),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(44,"ion-row"),g.TgZ(45,"ion-col",19),g.TgZ(46,"div",20),g.TgZ(47,"div",27),g._uU(48,"Give Reward"),g.qZA(),g.TgZ(49,"div",22),g.TgZ(50,"div",25),g.YNc(51,P,2,0,"button",26),g.qZA(),g.YNc(52,A,2,1,"ng-container",23),g.qZA(),g.qZA(),g.TgZ(53,"div",28),g.TgZ(54,"ion-button",29),g.NdJ("click",function(){return t.onNewGameEvent()}),g._uU(55,"New Game "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(9),g.Oqu(t.user.user_name),g.xp6(6),g.Oqu(t.user.puzzle_pieces?t.user.puzzle_pieces:0),g.xp6(1),g.Q6J("routerLink",g.DdM(13,L)),g.xp6(6),g.hij("lvl",t.user.level_id,""),g.xp6(2),g.Jzz("align-self: center; width: ",t.progressPercent,"%;"),g.xp6(3),g.hij("lvl",t.user.level_id+1,""),g.xp6(7),g.Q6J("ngForOf",t.gameList),g.xp6(8),g.Q6J("ngIf",null==t.claimList[0]||null==t.claimList[0].claim_reward?null:t.claimList[0].claim_reward.length),g.xp6(1),g.Q6J("ngForOf",t.claimList),g.xp6(8),g.Q6J("ngIf",null==t.claimList[0]||null==t.claimList[0].give_reward?null:t.claimList[0].give_reward.length),g.xp6(1),g.Q6J("ngForOf",t.claimList))},directives:[s.W2,s.nJ,s.Wo,s.jY,s.Nd,s.YI,o.rH,s.wI,n.sg,n.O5,s.YG],styles:["p[_ngcontent-%COMP%]{font-family:Poppins}ion-grid[_ngcontent-%COMP%]{padding:0!important;overflow-y:auto;margin:0}.top[_ngcontent-%COMP%]{width:100vw;height:107px;background:linear-gradient(180deg,#6976b9,#6976b9c2);box-shadow:0 5px 10px #49494940}.top-box[_ngcontent-%COMP%]{display:inline-flex;align-items:center;width:100%}.currency-bg[_ngcontent-%COMP%]{width:89px;height:26px;background:#fff;box-shadow:inset 0 0 6px #a7a7a7;z-index:0;margin-left:-15px}.box[_ngcontent-%COMP%]{display:flex;align-items:center}.pl-10[_ngcontent-%COMP%]{padding-left:10px}.username-css[_ngcontent-%COMP%]{letter-spacing:.03em;color:#fff;font-weight:600;font-size:15px;line-height:22px;font-family:Poppins}.home-currency[_ngcontent-%COMP%]{display:flex;align-content:center}.content-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100%}span[_ngcontent-%COMP%]{font-family:Poppins}.font-700[_ngcontent-%COMP%]{font-weight:700}.f-12[_ngcontent-%COMP%]{font-size:12px}.plus-bg[_ngcontent-%COMP%]{width:30px;height:30px;background:#99c43c;z-index:1;display:flex;justify-content:center}.ml--10[_ngcontent-%COMP%]{margin-left:-10px}.mt-15[_ngcontent-%COMP%]{margin-top:15px}.lvl-circle[_ngcontent-%COMP%]{background:#373b63;border-radius:50px;border:5px solid #c8cbe7}.lvl-circle[_ngcontent-%COMP%], .lvl-circle-y[_ngcontent-%COMP%]{width:70px;height:70px;display:flex;justify-content:center;align-items:center}.lvl-circle-y[_ngcontent-%COMP%]{background:#f7d049;border-radius:50px;border:5px solid #feefb9}.lvl-circle-y[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .lvl-circle[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-family:Poppins;color:#fff;font-weight:700;font-size:18px;line-height:27px}.card[_ngcontent-%COMP%]{font-family:Poppins;width:95%;display:block;margin:15px auto;border:1px solid #f29d9373;box-sizing:border-box;box-shadow:0 4px 20px #82828240;border-radius:20px;height:172px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{height:135px;overflow:auto;overflow-y:visible}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .body-header[_ngcontent-%COMP%]{float:right;margin:2px 13px 2px 2px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{height:35px;padding-left:15px;border-top-left-radius:20px;border-top-right-radius:20px;color:#fff;letter-spacing:.03em;font-weight:700;font-size:16px;display:flex;align-items:center}.card[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{background-color:#f29d93}.card[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]{background-color:#f7d049}.card[_ngcontent-%COMP%]   .givereward[_ngcontent-%COMP%]{background-color:#9dcaec}.mt-2[_ngcontent-%COMP%]{margin-top:2px}.ml-2[_ngcontent-%COMP%]{margin-left:2px}.mt-10[_ngcontent-%COMP%]{margin-top:10px}.ml-10[_ngcontent-%COMP%]{margin-left:10px}.ml-8[_ngcontent-%COMP%]{margin-left:8px}.btn-end[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:end;margin-right:10px}.cus-btn[_ngcontent-%COMP%]{--background:#99c43c;border-radius:30px;width:87px;height:28px;font-size:14px;letter-spacing:.03em}.play-cus-btn[_ngcontent-%COMP%]{display:flex;justify-content:center}.play-cus-btn[_ngcontent-%COMP%] > ion-button[_ngcontent-%COMP%]{margin-top:-35px;--background:linear-gradient(85.81deg,#99c43c 13.89%,#c5e67e 95.94%);box-sizing:border-box;--border-radius:90px;width:218px;height:53px;font-family:Poppins;font-weight:700;font-size:16px}.loader[_ngcontent-%COMP%]{background:linear-gradient(90deg,#8a94c8 41.94%,#f0c78eb8);border-radius:100px;height:20px}.lvl-card-container[_ngcontent-%COMP%]{display:flex;width:95%;margin:auto}.lvl-card-container[_ngcontent-%COMP%]   .lvl-loader[_ngcontent-%COMP%]{flex:1;align-self:center;background:#fff;box-shadow:inset 0 0 7px #41414140;border-radius:10px}.user-container[_ngcontent-%COMP%]{display:flex;width:95%;margin:auto;justify-content:space-around;padding:5px}.user-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%], .user-container[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.user-container[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{flex-direction:column}.blue-bg[_ngcontent-%COMP%]{background:linear-gradient(180deg,#6976b9,#6976b9c2);box-shadow:0 5px 10px #49494940;height:107px}"]}),e})()}];let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[o.Bz.forChild(k)],o.Bz]}),e})(),N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[n.ez,r.u5,s.Pc,U]]}),e})()}}]);