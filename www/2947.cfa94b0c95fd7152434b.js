(self.webpackChunkpic_playce=self.webpackChunkpic_playce||[]).push([[2947],{2947:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FilterPageModule:()=>Y});var a=n(8583),s=n(665),i=n(7823),o=n(8989),r=n(8977),c=n(4762),l=n(1704),d=n(8259),u=n.n(d),g=n(639),h=n(421),m=n(2423),p=n(4981);function y(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"ion-button",19),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).onSendGame()}),g._uU(1,"Next "),g.qZA()}}function f(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"ion-button",19),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).onSendGame1()}),g._uU(1,"Next "),g.qZA()}}const b=function(e){return{display:e}};function x(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"img",20),g.NdJ("load",function(){return g.CHM(e),g.oxw(2).Crop()}),g.qZA()}if(2&e){const e=g.oxw(2);g.s9C("src",e.cameraImage,g.LSH),g.Q6J("ngStyle",g.VKq(2,b,e.hideImage?"none":""))}}function w(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"img",21),g.NdJ("load",function(){return g.CHM(e),g.oxw(2).Crop1()}),g.qZA()}if(2&e){const e=g.oxw(2);g.s9C("src",e.cameraImage,g.LSH),g.Q6J("ngStyle",g.VKq(2,b,e.hideImage?"none":""))}}const v=function(e){return{filter:e}};function V(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"ion-grid",22),g.TgZ(1,"ion-row",23),g.TgZ(2,"ion-col",24),g.TgZ(3,"canvas",25),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).Rotate1(1,"toHide")}),g.qZA(),g.qZA(),g.TgZ(4,"ion-col",26),g.TgZ(5,"canvas",27),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).Rotate1(2,"toHide1")}),g.qZA(),g.qZA(),g.TgZ(6,"ion-col",28),g.TgZ(7,"canvas",29),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).Rotate1(3,"toHide2")}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(8,"ion-row",23),g.TgZ(9,"ion-col",30),g.TgZ(10,"canvas",31),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).Rotate1(4,"toHide3")}),g.qZA(),g.qZA(),g.TgZ(11,"ion-col",32),g.TgZ(12,"canvas",33),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).Rotate1(5,"toHide4")}),g.qZA(),g.qZA(),g.TgZ(13,"ion-col",34),g.TgZ(14,"canvas",35),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).Rotate1(6,"toHide5")}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(15,"ion-row",23),g.TgZ(16,"ion-col",36),g.TgZ(17,"canvas",37),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).Rotate1(7,"toHide6")}),g.qZA(),g.qZA(),g.TgZ(18,"ion-col",38),g.TgZ(19,"canvas",39),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).Rotate1(8,"toHide7")}),g.qZA(),g.qZA(),g.TgZ(20,"ion-col",40),g.TgZ(21,"canvas",41),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).Rotate1(9,"toHide8")}),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=g.oxw(2);g.xp6(1),g.Q6J("ngClass",e.primaryFilter),g.xp6(2),g.Q6J("ngStyle",g.VKq(12,v,"grayscale("+e.secondaryValues.numbers.grayscale+"%) hue-rotate("+e.secondaryValues.numbers.hue_rotate+"deg) invert("+e.secondaryValues.numbers.invert+"%) sepia("+e.secondaryValues.numbers.sepia+"%) saturate("+e.secondaryValues.numbers.saturate+"%) opacity("+e.secondaryValues.numbers.opacity+"%) brightness("+e.secondaryValues.numbers.brightness+"%) contrast("+e.secondaryValues.numbers.contrast+"%) blur("+e.secondaryValues.numbers.blur+"px)")),g.xp6(2),g.Q6J("ngStyle",g.VKq(14,v,"grayscale("+e.secondaryValues.numbers.grayscale+"%) hue-rotate("+e.secondaryValues.numbers.hue_rotate+"deg) invert("+e.secondaryValues.numbers.invert+"%) sepia("+e.secondaryValues.numbers.sepia+"%) saturate("+e.secondaryValues.numbers.saturate+"%) opacity("+e.secondaryValues.numbers.opacity+"%) brightness("+e.secondaryValues.numbers.brightness+"%) contrast("+e.secondaryValues.numbers.contrast+"%) blur("+e.secondaryValues.numbers.blur+"px)")),g.xp6(2),g.Q6J("ngStyle",g.VKq(16,v,"grayscale("+e.secondaryValues.numbers.grayscale+"%) hue-rotate("+e.secondaryValues.numbers.hue_rotate+"deg) invert("+e.secondaryValues.numbers.invert+"%) sepia("+e.secondaryValues.numbers.sepia+"%) saturate("+e.secondaryValues.numbers.saturate+"%) opacity("+e.secondaryValues.numbers.opacity+"%) brightness("+e.secondaryValues.numbers.brightness+"%) contrast("+e.secondaryValues.numbers.contrast+"%) blur("+e.secondaryValues.numbers.blur+"px)")),g.xp6(1),g.Q6J("ngClass",e.primaryFilter),g.xp6(2),g.Q6J("ngStyle",g.VKq(18,v,"grayscale("+e.secondaryValues.numbers.grayscale+"%) hue-rotate("+e.secondaryValues.numbers.hue_rotate+"deg) invert("+e.secondaryValues.numbers.invert+"%) sepia("+e.secondaryValues.numbers.sepia+"%) saturate("+e.secondaryValues.numbers.saturate+"%) opacity("+e.secondaryValues.numbers.opacity+"%) brightness("+e.secondaryValues.numbers.brightness+"%) contrast("+e.secondaryValues.numbers.contrast+"%) blur("+e.secondaryValues.numbers.blur+"px)")),g.xp6(2),g.Q6J("ngStyle",g.VKq(20,v,"grayscale("+e.secondaryValues.numbers.grayscale+"%) hue-rotate("+e.secondaryValues.numbers.hue_rotate+"deg) invert("+e.secondaryValues.numbers.invert+"%) sepia("+e.secondaryValues.numbers.sepia+"%) saturate("+e.secondaryValues.numbers.saturate+"%) opacity("+e.secondaryValues.numbers.opacity+"%) brightness("+e.secondaryValues.numbers.brightness+"%) contrast("+e.secondaryValues.numbers.contrast+"%) blur("+e.secondaryValues.numbers.blur+"px)")),g.xp6(2),g.Q6J("ngStyle",g.VKq(22,v,"grayscale("+e.secondaryValues.numbers.grayscale+"%) hue-rotate("+e.secondaryValues.numbers.hue_rotate+"deg) invert("+e.secondaryValues.numbers.invert+"%) sepia("+e.secondaryValues.numbers.sepia+"%) saturate("+e.secondaryValues.numbers.saturate+"%) opacity("+e.secondaryValues.numbers.opacity+"%) brightness("+e.secondaryValues.numbers.brightness+"%) contrast("+e.secondaryValues.numbers.contrast+"%) blur("+e.secondaryValues.numbers.blur+"px)")),g.xp6(1),g.Q6J("ngClass",e.primaryFilter),g.xp6(2),g.Q6J("ngStyle",g.VKq(24,v,"grayscale("+e.secondaryValues.numbers.grayscale+"%) hue-rotate("+e.secondaryValues.numbers.hue_rotate+"deg) invert("+e.secondaryValues.numbers.invert+"%) sepia("+e.secondaryValues.numbers.sepia+"%) saturate("+e.secondaryValues.numbers.saturate+"%) opacity("+e.secondaryValues.numbers.opacity+"%) brightness("+e.secondaryValues.numbers.brightness+"%) contrast("+e.secondaryValues.numbers.contrast+"%) blur("+e.secondaryValues.numbers.blur+"px)")),g.xp6(2),g.Q6J("ngStyle",g.VKq(26,v,"grayscale("+e.secondaryValues.numbers.grayscale+"%) hue-rotate("+e.secondaryValues.numbers.hue_rotate+"deg) invert("+e.secondaryValues.numbers.invert+"%) sepia("+e.secondaryValues.numbers.sepia+"%) saturate("+e.secondaryValues.numbers.saturate+"%) opacity("+e.secondaryValues.numbers.opacity+"%) brightness("+e.secondaryValues.numbers.brightness+"%) contrast("+e.secondaryValues.numbers.contrast+"%) blur("+e.secondaryValues.numbers.blur+"px)")),g.xp6(2),g.Q6J("ngStyle",g.VKq(28,v,"grayscale("+e.secondaryValues.numbers.grayscale+"%) hue-rotate("+e.secondaryValues.numbers.hue_rotate+"deg) invert("+e.secondaryValues.numbers.invert+"%) sepia("+e.secondaryValues.numbers.sepia+"%) saturate("+e.secondaryValues.numbers.saturate+"%) opacity("+e.secondaryValues.numbers.opacity+"%) brightness("+e.secondaryValues.numbers.brightness+"%) contrast("+e.secondaryValues.numbers.contrast+"%) blur("+e.secondaryValues.numbers.blur+"px)"))}}function I(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"ion-grid",42),g.TgZ(1,"ion-row",23),g.TgZ(2,"ion-col",43),g.TgZ(3,"canvas",44),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).Rotate(1,"toHide")}),g.qZA(),g.qZA(),g.TgZ(4,"ion-col",45),g.TgZ(5,"canvas",46),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).Rotate(2,"toHide1")}),g.qZA(),g.qZA(),g.qZA(),g.TgZ(6,"ion-row",23),g.TgZ(7,"ion-col",47),g.TgZ(8,"canvas",48),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).Rotate(3,"toHide2")}),g.qZA(),g.qZA(),g.TgZ(9,"ion-col",49),g.TgZ(10,"canvas",50),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).Rotate(4,"toHide3")}),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=g.oxw(2);g.xp6(1),g.Q6J("ngClass",e.primaryFilter),g.xp6(2),g.Q6J("ngStyle",g.VKq(6,v,"grayscale("+e.secondaryValues.numbers.grayscale+"%) hue-rotate("+e.secondaryValues.numbers.hue_rotate+"deg) invert("+e.secondaryValues.numbers.invert+"%) sepia("+e.secondaryValues.numbers.sepia+"%) saturate("+e.secondaryValues.numbers.saturate+"%) opacity("+e.secondaryValues.numbers.opacity+"%) brightness("+e.secondaryValues.numbers.brightness+"%) contrast("+e.secondaryValues.numbers.contrast+"%) blur("+e.secondaryValues.numbers.blur+"px)")),g.xp6(2),g.Q6J("ngStyle",g.VKq(8,v,"grayscale("+e.secondaryValues.numbers.grayscale+"%) hue-rotate("+e.secondaryValues.numbers.hue_rotate+"deg) invert("+e.secondaryValues.numbers.invert+"%) sepia("+e.secondaryValues.numbers.sepia+"%) saturate("+e.secondaryValues.numbers.saturate+"%) opacity("+e.secondaryValues.numbers.opacity+"%) brightness("+e.secondaryValues.numbers.brightness+"%) contrast("+e.secondaryValues.numbers.contrast+"%) blur("+e.secondaryValues.numbers.blur+"px)")),g.xp6(1),g.Q6J("ngClass",e.primaryFilter),g.xp6(2),g.Q6J("ngStyle",g.VKq(10,v,"grayscale("+e.secondaryValues.numbers.grayscale+"%) hue-rotate("+e.secondaryValues.numbers.hue_rotate+"deg) invert("+e.secondaryValues.numbers.invert+"%) sepia("+e.secondaryValues.numbers.sepia+"%) saturate("+e.secondaryValues.numbers.saturate+"%) opacity("+e.secondaryValues.numbers.opacity+"%) brightness("+e.secondaryValues.numbers.brightness+"%) contrast("+e.secondaryValues.numbers.contrast+"%) blur("+e.secondaryValues.numbers.blur+"px)")),g.xp6(2),g.Q6J("ngStyle",g.VKq(12,v,"grayscale("+e.secondaryValues.numbers.grayscale+"%) hue-rotate("+e.secondaryValues.numbers.hue_rotate+"deg) invert("+e.secondaryValues.numbers.invert+"%) sepia("+e.secondaryValues.numbers.sepia+"%) saturate("+e.secondaryValues.numbers.saturate+"%) opacity("+e.secondaryValues.numbers.opacity+"%) brightness("+e.secondaryValues.numbers.brightness+"%) contrast("+e.secondaryValues.numbers.contrast+"%) blur("+e.secondaryValues.numbers.blur+"px)"))}}function C(e,t){1&e&&g._UZ(0,"ion-icon",57)}function Z(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"img",58),g.NdJ("click",function(){g.CHM(e);const t=g.oxw().$implicit;return g.oxw(3).changePrimary(t)}),g.qZA()}if(2&e){const e=g.oxw(4);g.s9C("src",e.cameraImageThumbnail,g.LSH)}}function q(e,t){if(1&e&&(g.TgZ(0,"ion-slide",53),g.TgZ(1,"p"),g._uU(2),g.YNc(3,C,1,0,"ion-icon",54),g.qZA(),g.TgZ(4,"div",55),g.YNc(5,Z,1,1,"img",56),g.qZA(),g.qZA()),2&e){const e=t.$implicit,n=g.oxw(3);g.xp6(2),g.hij("",e.name," "),g.xp6(1),g.Q6J("ngIf",!n.checkOwnedFilter(e)),g.xp6(1),g.Q6J("ngClass",e.name),g.xp6(1),g.Q6J("ngIf",n.cameraImageThumbnail)}}const S=function(){return{slidesPerView:3}};function _(e,t){if(1&e&&(g.TgZ(0,"ion-slides",51),g.YNc(1,q,6,4,"ion-slide",52),g.qZA()),2&e){const e=g.oxw(2);g.Q6J("options",g.DdM(2,S)),g.xp6(1),g.Q6J("ngForOf",e.filterList)}}function H(e,t){1&e&&g._UZ(0,"ion-icon",57)}function T(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"img",58),g.NdJ("click",function(){g.CHM(e);const t=g.oxw().$implicit;return g.oxw(3).changeButtons(t)}),g.qZA()}if(2&e){const e=g.oxw(4);g.s9C("src",e.cameraImageThumbnail,g.LSH)}}function M(e,t){if(1&e&&(g.TgZ(0,"ion-slide",53),g._uU(1),g.YNc(2,H,1,0,"ion-icon",54),g.TgZ(3,"div",60),g.YNc(4,T,1,1,"img",56),g.qZA(),g.qZA()),2&e){const e=t.$implicit,n=t.index,a=g.oxw(3);g.xp6(1),g.hij(" ",e.name," "),g.xp6(1),g.Q6J("ngIf",!a.checkOwnedFilter(e)&&a.checkOwnedFilter.length),g.xp6(1),g.Q6J("ngStyle",g.VKq(4,v,a.secondaryFilterValues[n])),g.xp6(1),g.Q6J("ngIf",a.cameraImageThumbnail)}}function O(e,t){if(1&e&&(g.TgZ(0,"ion-slides",59),g.YNc(1,M,5,6,"ion-slide",52),g.qZA()),2&e){const e=g.oxw(2);g.Q6J("options",g.DdM(2,S)),g.xp6(1),g.Q6J("ngForOf",e.secondaryFilterList)}}function J(e,t){if(1&e&&(g.TgZ(0,"div",61),g._UZ(1,"ion-input",62),g.qZA()),2&e){const e=g.oxw(2);g.xp6(1),g.Q6J("formControl",e.hintWord)}}function N(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"div"),g.TgZ(1,"p",63),g._uU(2),g.qZA(),g.TgZ(3,"ion-range",64),g.NdJ("ngModelChange",function(t){g.CHM(e);const n=g.oxw(2);return n.secondaryValues.ranges[n.secondaryFilterSelected].sliderValue=t})("ionChange",function(t){return g.CHM(e),g.oxw(2).sliderChanged(t)}),g.qZA(),g.qZA()}if(2&e){const e=g.oxw(2);g.xp6(2),g.hij(" ",e.secondaryFilterSelected," "),g.xp6(1),g.Q6J("step",e.secondaryValues.ranges[e.secondaryFilterSelected].step)("min",e.secondaryValues.ranges[e.secondaryFilterSelected].min)("max",e.secondaryValues.ranges[e.secondaryFilterSelected].max)("ngModel",e.secondaryValues.ranges[e.secondaryFilterSelected].sliderValue)}}function P(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"ion-content",4),g.TgZ(1,"div",5),g.TgZ(2,"div",6),g.TgZ(3,"div",7),g.NdJ("click",function(){return g.CHM(e),g.oxw().onNavigateEvent()}),g._UZ(4,"img",8),g.qZA(),g.TgZ(5,"div",9),g.YNc(6,y,2,0,"ion-button",10),g.YNc(7,f,2,0,"ion-button",10),g.qZA(),g.qZA(),g.qZA(),g.YNc(8,x,1,4,"img",11),g.YNc(9,w,1,4,"img",12),g.YNc(10,V,22,30,"ion-grid",13),g.YNc(11,I,11,14,"ion-grid",14),g.YNc(12,_,2,3,"ion-slides",15),g.YNc(13,O,2,3,"ion-slides",16),g.YNc(14,J,2,1,"div",17),g.YNc(15,N,4,5,"div",18),g.qZA()}if(2&e){const e=g.oxw();g.xp6(6),g.Q6J("ngIf","easy"==e.gameType),g.xp6(1),g.Q6J("ngIf","medium"==e.gameType),g.xp6(1),g.Q6J("ngIf",e.cameraImage&&"easy"==e.gameType),g.xp6(1),g.Q6J("ngIf",e.cameraImage&&"medium"==e.gameType),g.xp6(1),g.Q6J("ngIf","medium"==e.gameType),g.xp6(1),g.Q6J("ngIf","easy"==e.gameType),g.xp6(1),g.Q6J("ngIf","primary"==e.selection&&!e.showWordSection),g.xp6(1),g.Q6J("ngIf","secondary"==e.selection&&"default"==e.buttons&&!e.showWordSection),g.xp6(1),g.Q6J("ngIf",e.showWordSection),g.xp6(1),g.Q6J("ngIf","secondary"==e.buttons)}}function k(e,t){1&e&&(g.TgZ(0,"div",65),g._UZ(1,"div",66),g.qZA())}function A(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"ul"),g.TgZ(1,"li",68),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).segmentChanged("primary")}),g.TgZ(2,"a",55),g._uU(3,"PRIMARY"),g.qZA(),g.qZA(),g.TgZ(4,"li",68),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).segmentChanged("secondary")}),g.TgZ(5,"a",55),g._uU(6,"SECONDARY"),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=g.oxw(2);g.xp6(2),g.Q6J("ngClass","primary"==e.selection?"selectedSegment":"notSelected"),g.xp6(3),g.Q6J("ngClass","secondary"==e.selection?"selectedSegment":"notSelected")}}function F(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"ul"),g.TgZ(1,"li"),g.TgZ(2,"a",68),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).revertButtons("cancel")}),g._uU(3,"CANCEL"),g.qZA(),g.qZA(),g.TgZ(4,"li"),g.TgZ(5,"a",68),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).revertButtons()}),g._uU(6,"DONE"),g.qZA(),g.qZA(),g.qZA()}}function Q(e,t){if(1&e&&(g.TgZ(0,"ion-footer",67),g.YNc(1,A,7,2,"ul",18),g.YNc(2,F,7,0,"ul",18),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf","default"==e.buttons),g.xp6(1),g.Q6J("ngIf","secondary"==e.buttons)}}const E=[{path:"",component:(()=>{class e{constructor(e,t,n,a,i,o,r,c,d,u){this.restService=e,this.navCtrl=t,this.alertController=n,this.router=a,this.changeDetection=i,this.route=o,this.dragulaService=r,this.loadingController=c,this.spinnerDialog=d,this.userService=u,this.isLoading=!0,this.filter_id=null,this.sequence=["toHide","toHide1","toHide2","toHide3"],this.sequence1=["toHide","toHide1","toHide2","toHide3","toHide4","toHide5","toHide6","toHide7","toHide8"],this.rotations={toHide:4,toHide1:4,toHide2:4,toHide3:4},this.rotations1={toHide:4,toHide1:4,toHide2:4,toHide3:4,toHide4:4,toHide5:4,toHide6:4,toHide7:4,toHide8:4},this.cameraImage=null,this.isPuzzleSolved=!1,this.primaryFilter="",this.buttons="default",this.selection="primary",this.secondaryValues={numbers:{grayscale:0,hue_rotate:0,invert:0,sepia:0,saturate:100,opacity:100,brightness:100,contrast:100,blur:0},ranges:{grayscale:{min:0,max:100,step:1,sliderValue:0},hue_rotate:{min:0,max:180,step:1,sliderValue:0},invert:{min:0,max:90,step:30},sepia:{min:0,max:100,step:1,sliderValue:0},saturate:{min:0,max:200,step:1,sliderValue:0},opacity:{min:50,max:100,step:1,sliderValue:0},brightness:{min:50,max:200,step:1,sliderValue:0},contrast:{min:50,max:200,step:1,sliderValue:0},blur:{min:0,max:5,step:1,sliderValue:0}}},this.secondaryFilterValues=["grayscale(100%)","hue-rotate(180deg)","invert(90%)","sepia(100%)","saturate(200%)","opacity(50%)","brightness(200%)","contrast(200%)","blur(5px)"],this.lastValue=0,this.lettersArr=new s.Oe([]),this.type="easy",this.hintWord=new s.NI("",s.kI.required),this.showWordSection=!1,this.proSecondaryFilters=["grayscale","hue_rotate","invert","sepia","saturate"],this.primeSecondaryFilters=["opacity","brightness","contrast","blur"],this.sendGameLoader=!1,this.hideImage=!1,this.dragulaService.drop("totalPiece").subscribe(({el:e,target:t,source:n})=>{if("easy"==this.gameType){const a=this.sequence.indexOf(t.className.split(" ")[0]),s=this.sequence.indexOf(n.className.split(" ")[0]);this.sequence[a]=n.className.split(" ")[0],this.sequence[s]=t.className.split(" ")[0],console.log("finalSequence ",this.sequence),l(t).find("canvas").not(e).appendTo(n);let i=n.className;n.className=t.className,t.className=i,this.autoSwap()}if("medium"==this.gameType){const a=this.sequence1.indexOf(t.className.split(" ")[0]),s=this.sequence1.indexOf(n.className.split(" ")[0]);this.sequence1[a]=n.className.split(" ")[0],this.sequence1[s]=t.className.split(" ")[0],console.log("finalSequence1 ",this.sequence1),l(t).find("canvas").not(e).appendTo(n);let i=n.className;n.className=t.className,t.className=i,this.autoSwap1()}}),this.userService.userData.subscribe(e=>{this.ownedItemsList=JSON.parse(localStorage.getItem("ownedItemsList")),console.log("ownedItemsList",this.ownedItemsList)})}ngOnInit(){this.user=JSON.parse(localStorage.getItem("user"));let e=localStorage.getItem("base64String1"),t=localStorage.getItem("base64String2");this.cameraImage=e.concat(t),this.cameraImage="data:image/jpeg;base64,"+this.cameraImage,this.userId=this.route.snapshot.paramMap.get("userId"),this.gameType=this.route.snapshot.paramMap.get("gameType"),this.gameType&&localStorage.setItem("GameType",this.gameType),this.gameType||(this.gameType=localStorage.getItem("GameType")),console.log("Game Type",this.gameType),this.compressImage(this.cameraImage,100,100).then(e=>{this.cameraImageThumbnail=e,console.log("this.cameraImageThumbnail",this.cameraImageThumbnail)}),this.filterList=[],this.secondaryFilterList=[],this.filterList=JSON.parse(localStorage.getItem("filterList")),this.secondaryFilterList=JSON.parse(localStorage.getItem("secondaryList")),this.ownedItemsList=JSON.parse(localStorage.getItem("ownedItemsList"))}presentAlertForShop(e,t,n){return(0,c.mG)(this,void 0,void 0,function*(){const a=yield this.alertController.create({cssClass:"my-custom-class",header:e,message:t,buttons:[{text:"Yes",handler:()=>{this.router.navigate(["main/store",{params:JSON.stringify(n)}])}},{text:"No"}]});yield a.present();const{role:s}=yield a.onDidDismiss();console.log("onDidDismiss resolved with role",s)})}presentLoading(){return(0,c.mG)(this,void 0,void 0,function*(){const e=yield this.loadingController.create({cssClass:"my-custom-class",message:"Please wait...",duration:2e3});yield e.present(),yield e.onDidDismiss(),console.log("Loading dismissed!")})}onSendGame(){this.sendGameLoader=!0;var e=document.createElement("canvas"),t=e.getContext("2d");e.width=360,e.height=360;let n=[],a=l("."+this.sequence[0]).children("canvas"),s=l("."+this.sequence[1]).children("canvas"),i=l("."+this.sequence[2]).children("canvas"),o=l("."+this.sequence[3]).children("canvas");a.each(function(){let e=l(this).attr("id");n.push(e)}),s.each(function(){let e=l(this).attr("id");n.push(e)}),i.each(function(){let e=l(this).attr("id");n.push(e)}),o.each(function(){let e=l(this).attr("id");n.push(e)}),t.drawImage(document.getElementById(n[0]),0,0),t.drawImage(document.getElementById(n[1]),e.width/2,0),t.drawImage(document.getElementById(n[2]),0,e.height/2),t.drawImage(document.getElementById(n[3]),e.width/2,e.height/2);var r=e.toDataURL("image/jpeg");localStorage.setItem("puzzleImage",r);const c={friend_id:this.userId,type:this.gameType,word:this.hintWord.value,swap_sequence:JSON.stringify(this.sequence),rotate_sequence:JSON.stringify(this.rotations),p_image:r,image:this.cameraImage,filter_id:this.filter_id,secondary_values:JSON.stringify(this.secondaryValues)};this.router.navigate(["send-game",{gameObj:JSON.stringify(c)}],{replaceUrl:!0}).then(e=>{e&&(this.sendGameLoader=!1)})}onSendGame1(){let e,t;(new Image).src=this.cameraImage,e=630,t=630,console.log("pictureWidth",630),console.log("pictureHeight",630);var n=200,a=200;console.log("w2",n),console.log("h2",a);var s=document.createElement("canvas"),i=s.getContext("2d");s.width=580,s.height=580;let o=[],r=l("."+this.sequence1[0]).children("canvas"),c=l("."+this.sequence1[1]).children("canvas"),d=l("."+this.sequence1[2]).children("canvas"),u=l("."+this.sequence1[3]).children("canvas"),g=l("."+this.sequence1[4]).children("canvas"),h=l("."+this.sequence1[5]).children("canvas"),m=l("."+this.sequence1[6]).children("canvas"),p=l("."+this.sequence1[7]).children("canvas"),y=l("."+this.sequence1[8]).children("canvas");r.each(function(){let e=l(this).attr("id");o.push(e)}),c.each(function(){let e=l(this).attr("id");o.push(e)}),d.each(function(){let e=l(this).attr("id");o.push(e)}),u.each(function(){let e=l(this).attr("id");o.push(e)}),g.each(function(){let e=l(this).attr("id");o.push(e)}),h.each(function(){let e=l(this).attr("id");o.push(e)}),m.each(function(){let e=l(this).attr("id");o.push(e)}),p.each(function(){let e=l(this).attr("id");o.push(e)}),y.each(function(){let e=l(this).attr("id");o.push(e)}),i.drawImage(document.getElementById(o[0]),0,0),i.drawImage(document.getElementById(o[1]),n,0),i.drawImage(document.getElementById(o[2]),400,0),i.drawImage(document.getElementById(o[3]),0,a),i.drawImage(document.getElementById(o[4]),n,a),i.drawImage(document.getElementById(o[5]),400,a),i.drawImage(document.getElementById(o[6]),0,400),i.drawImage(document.getElementById(o[7]),n,400),i.drawImage(document.getElementById(o[8]),400,400);var f=s.toDataURL("image/jpeg");localStorage.setItem("puzzleImage",f),console.log("Final Source",f);const b={friend_id:this.userId,type:this.gameType,swap_sequence:JSON.stringify(this.sequence1),rotate_sequence:JSON.stringify(this.rotations1),p_image:f,image:this.cameraImage,filter_id:this.filter_id,secondary_values:JSON.stringify(this.secondaryValues)};this.router.navigate(["send-game",{gameObj:JSON.stringify(b)}],{replaceUrl:!0}).then(e=>{e&&(this.sendGameLoader=!1)})}Crop(){this.hideImage=!1;let e,t,n=l("#originalImage"),a=this,s=new Image;s.src=this.cameraImage,s.width=n.width(),s.height=n.width(),s.onload=function(){e=n.width(),t=n.width();for(var i=e/2,o=t/2,r=0;r<4;r++){var c=document.getElementById("canvas"+(r+1));console.log("Canvas",c);var l=c.getContext("2d"),d=-i*r%(2*i),u=o*r<=o?0:-o;c.width=i,c.height=o,3==r&&(a.imageWidth=c.width+c.width),l.drawImage(s,d,u,2*i,2*o)}},this.hideImage=!0}Crop1(){l("#originalImage"),this.hideImage=!1;let e,t,n=this,a=new Image;a.src=this.cameraImage,a.onload=function(){e=a.width,t=a.height;var s,i=e/3,o=t/3;(s=document.getElementById("canvas1")).getContext("2d").drawImage(a,0,0,i,o,0,0,s.width,s.height),(s=document.getElementById("canvas2")).getContext("2d").drawImage(a,i,0,i,o,0,0,s.width,s.height),(s=document.getElementById("canvas3")).getContext("2d").drawImage(a,2*i,0,i,o,0,0,s.width,s.height),(s=document.getElementById("canvas4")).getContext("2d").drawImage(a,0,o,i,o,0,0,s.width,s.height),(s=document.getElementById("canvas5")).getContext("2d").drawImage(a,i,o,i,o,0,0,s.width,s.height),(s=document.getElementById("canvas6")).getContext("2d").drawImage(a,2*i,o,i,o,0,0,s.width,s.height),(s=document.getElementById("canvas7")).getContext("2d").drawImage(a,0,2*o,i,o,0,0,s.width,s.height),(s=document.getElementById("canvas8")).getContext("2d").drawImage(a,i,2*o,i,o,0,0,s.width,s.height),(s=document.getElementById("canvas9")).getContext("2d").drawImage(a,2*i,2*o,i,o,0,0,s.width,s.height),n.imageWidth=s.width,n.imageHeight=s.height},this.hideImage=!0,l("#originalImage1").css("display","none")}Rotate(e,t){this.rotations[t]++,console.log(this.rotations);var n=document.getElementById("canvas"+e),a=n.getContext("2d"),s=n.width,i=n.height;s*=2,i*=2,a.save(),a.translate(s/4,i/4),a.rotate(Math.PI/2),a.drawImage(n,-s/4,-i/4,s/2,i/2),a.restore()}Rotate1(e,t){this.rotations1[t]++,console.log(this.rotations1);var n=document.getElementById("canvas"+e),a=n.getContext("2d"),s=n.width,i=n.height;s*=2,i*=2,a.save(),a.translate(s/4,i/4),a.rotate(Math.PI/2),a.drawImage(n,-s/4,-i/4,s/2,i/2),a.restore()}checkOwnedFilter(e){return this.ownedItemsList.find(t=>t.filter_id==e.id)}sliderChanged(e){this.secondaryValues.numbers[this.secondaryFilterSelected]=e.detail.value}segmentChanged(e){this.spinnerDialog.show(),this.selection=e,this.changeDetection.detectChanges(),this.spinnerDialog.hide()}revertButtons(e="no"){"cancel"==e&&(this.secondaryValues.ranges[this.secondaryFilterSelected].sliderValue=this.lastValue,this.secondaryValues.numbers[this.secondaryFilterSelected]=this.lastValue),this.buttons="default"}makeFormGroup(e){return this.lettersArr.push(new s.NI(""))}compressImage(e,t,n){return new Promise((a,s)=>{const i=new Image;i.src=e,i.onload=()=>{const e=document.createElement("canvas");e.width=t,e.height=n;const s=e.getContext("2d");s.drawImage(i,0,0,t,n);const o=s.canvas.toDataURL();a(o)},i.onerror=e=>s(e)})}autoSwap(){const e=l(".toHide").children("canvas");let t=0;const n=l(".toHide1").children("canvas");let a=0;const s=l(".toHide2").children("canvas");let i=0;const o=l(".toHide3").children("canvas");let r,c,d=0;e.each(function(){l(this).attr("id"),t++}),n.each(function(){l(this).attr("id"),a++}),s.each(function(){l(this).attr("id"),i++}),o.each(function(){l(this).attr("id"),d++}),console.log("check this final sequence",this.sequence),0==t&&(r=l(".toHide")),0==a&&(r=l(".toHide1")),0==i&&(r=l(".toHide2")),0==d&&(r=l(".toHide3")),2==t&&(c=e),2==a&&(c=n),2==i&&(c=s),2==d&&(c=o),r&&c&&r.append(c[0])}autoSwap1(){const e=l(".toHide").children("canvas");let t=0;const n=l(".toHide1").children("canvas");let a=0;const s=l(".toHide2").children("canvas");let i=0;const o=l(".toHide3").children("canvas");let r=0;const c=l(".toHide4").children("canvas"),d=l(".toHide5").children("canvas"),u=l(".toHide6").children("canvas"),g=l(".toHide7").children("canvas"),h=l(".toHide8").children("canvas");let m,p;e.each(function(){l(this).attr("id"),t++}),n.each(function(){l(this).attr("id"),a++}),s.each(function(){l(this).attr("id"),i++}),o.each(function(){l(this).attr("id"),r++}),c.each(function(){l(this).attr("id")}),d.each(function(){l(this).attr("id")}),u.each(function(){l(this).attr("id")}),g.each(function(){l(this).attr("id")}),h.each(function(){l(this).attr("id")}),console.log("check this final sequence",this.sequence1),0==t&&(m=l(".toHide")),0==a&&(m=l(".toHide1")),0==i&&(m=l(".toHide2")),0==r&&(m=l(".toHide3")),2==t&&(p=e),2==a&&(p=n),2==i&&(p=s),2==r&&(p=o),m&&p&&m.append(p[0])}changePrimary(e){this.spinnerDialog.show(),this.ownedItemsList.filter(t=>t.filter_id==e.id).length?(this.spinnerDialog.hide(),this.primaryFilter=e.name,this.filter_id=e.id):(this.spinnerDialog.hide(),u().fire({text:"You Want to purchase?",confirmButtonText:"Yes",confirmButtonColor:"#99C43C",allowOutsideClick:!0,showCancelButton:!0}).then(t=>{t.isConfirmed&&this.navCtrl.navigateForward(["main/store"],{queryParams:{filterData:JSON.stringify(e)}})}))}changeButtons(e){if(this.spinnerDialog.show(),this.ownedItemsList.filter(t=>t.filter_id==e.id).length)this.spinnerDialog.hide(),"hue-rotate"==e.name&&(e.name="hue_rotate"),this.secondaryFilterSelected=e.name,l("ion-range").attr("value",this.secondaryValues.numbers[e.name]),this.secondaryValues.ranges[this.secondaryFilterSelected].sliderValue=this.secondaryValues.numbers[this.secondaryFilterSelected],this.lastValue=this.secondaryValues.numbers[this.secondaryFilterSelected],this.buttons="secondary";else{console.log("Filterr",this.secondaryFilterSelected),"hue-rotate"==e.name&&(e="hue_rotate");let t,n,a=!1;for(let s=0;s<this.proSecondaryFilters.length;s++)this.proSecondaryFilters[s]==e.name&&(t="proSecondaryFilter",n="ProSecondaryFilter");for(let s=0;s<this.primeSecondaryFilters.length;s++)this.primeSecondaryFilters[s]==e.name&&(t="primeSecondaryFilter",n="PrimeSecondaryFilter");for(let e=0;e<this.ownedItemsList.length;e++)this.ownedItemsList[e].name==n&&(a=!0);1==a?"hue_rotate"==e&&(e="hue-rotate"):("hue_rotate"==e&&(e="hue-rotate"),this.spinnerDialog.hide(),u().fire({text:"You Want to purchase?",confirmButtonText:"Yes",confirmButtonColor:"#99C43C",allowOutsideClick:!0,showCancelButton:!0}).then(e=>{e.isConfirmed&&this.navCtrl.navigateForward(["main/store"],{queryParams:{filter:!0}})}))}}onNavigateEvent(){this.navCtrl.navigateBack("/contactlist")}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(h.v),g.Y36(i.SH),g.Y36(i.Br),g.Y36(r.F0),g.Y36(g.sBO),g.Y36(r.gz),g.Y36(o.pQ),g.Y36(i.HT),g.Y36(m.K),g.Y36(p.K))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-filter"]],features:[g._Bn([],[o.pQ])],decls:4,vars:3,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/cssgram/0.1.10/cssgram.min.css"],["class","mt-0",4,"ngIf"],["class","loaderContainer",4,"ngIf"],["no-border","","class","main-footer","style","height: 55px",4,"ngIf"],[1,"mt-0"],["id","containertop",2,"width","100%"],[1,"top-buttons-head"],[1,"in-left",3,"click"],["src","assets/icon/back-icon.svg"],[1,"in-right"],["class","cus-btn","ion-button","",3,"click",4,"ngIf"],["width","360","height","360","id","originalImage",3,"ngStyle","src","load",4,"ngIf"],["width","360","height","360","id","originalImage1",3,"ngStyle","src","load",4,"ngIf"],["class","ion-justify-content-center","id","container","style","padding: 2px 5vh 0; height: 360px;",4,"ngIf"],["class","ion-justify-content-center","id","container","style","padding: 2px 5vh 0",4,"ngIf"],["loop","false","pager","false",3,"options",4,"ngIf"],["loop","false",3,"options",4,"ngIf"],["class","bottom","style","text-align: center;",4,"ngIf"],[4,"ngIf"],["ion-button","",1,"cus-btn",3,"click"],["width","360","height","360","id","originalImage",3,"ngStyle","src","load"],["width","360","height","360","id","originalImage1",3,"ngStyle","src","load"],["id","container",1,"ion-justify-content-center",2,"padding","2px 5vh 0","height","360px"],[1,"spaceinrow",3,"ngClass"],["col-4","4","dragula","totalPiece",1,"toHide",2,"padding","2px"],["id","canvas1","height","200","width","200",2,"display","inline-block",3,"ngStyle","click"],["col-4","4","dragula","totalPiece",1,"toHide1",2,"padding","2px"],["id","canvas2","height","200","width","200",2,"display","inline-block",3,"ngStyle","click"],["col-4","4","dragula","totalPiece",1,"toHide2",2,"padding","2px"],["id","canvas3","height","200","width","200",2,"display","inline-block",3,"ngStyle","click"],["col-4","4","dragula","totalPiece",1,"toHide3",2,"padding","2px"],["id","canvas4","height","200","width","200",2,"display","inline-block",3,"ngStyle","click"],["col-4","4","dragula","totalPiece",1,"toHide4",2,"padding","2px"],["id","canvas5","height","200","width","200",2,"display","inline-block",3,"ngStyle","click"],["col-4","4","dragula","totalPiece",1,"toHide5",2,"padding","2px"],["id","canvas6","height","200","width","200",2,"display","inline-block",3,"ngStyle","click"],["col-4","4","dragula","totalPiece",1,"toHide6",2,"padding","2px"],["id","canvas7","height","200","width","200",2,"display","inline-block",3,"ngStyle","click"],["col-4","4","dragula","totalPiece",1,"toHide7",2,"padding","2px"],["id","canvas8","height","200","width","200",2,"display","inline-block",3,"ngStyle","click"],["col-4","4","dragula","totalPiece",1,"toHide8",2,"padding","2px"],["id","canvas9","height","200","width","200",2,"display","inline-block",3,"ngStyle","click"],["id","container",1,"ion-justify-content-center",2,"padding","2px 5vh 0"],["col-6","6","dragula","totalPiece",1,"toHide",2,"padding","2px"],["id","canvas1",2,"display","inline-block",3,"ngStyle","click"],["col-6","6","dragula","totalPiece",1,"toHide1",2,"padding","2px"],["id","canvas2",2,"display","inline-block",3,"ngStyle","click"],["col-6","6","dragula","totalPiece",1,"toHide2",2,"padding","2px"],["id","canvas3",2,"display","inline-block",3,"ngStyle","click"],["col-6","6","dragula","totalPiece",1,"toHide3",2,"padding","2px"],["id","canvas4",2,"display","inline-block",3,"ngStyle","click"],["loop","false","pager","false",3,"options"],["style","display: flex; flex-direction: column;",4,"ngFor","ngForOf"],[2,"display","flex","flex-direction","column"],["name","lock-closed-outline","style","margin-left: 2px",4,"ngIf"],[3,"ngClass"],["style","width: auto",3,"src","click",4,"ngIf"],["name","lock-closed-outline",2,"margin-left","2px"],[2,"width","auto",3,"src","click"],["loop","false",3,"options"],[3,"ngStyle"],[1,"bottom",2,"text-align","center"],["placeholder","Please Enter a word",3,"formControl"],[2,"text-align","center","font-weight","bold","color","white"],["pin","true",3,"step","min","max","ngModel","ngModelChange","ionChange"],[1,"loaderContainer"],[1,"loader1"],["no-border","",1,"main-footer",2,"height","55px"],[3,"click"]],template:function(e,t){1&e&&(g._UZ(0,"link",0),g.YNc(1,P,16,10,"ion-content",1),g.YNc(2,k,2,0,"div",2),g.YNc(3,Q,3,2,"ion-footer",3)),2&e&&(g.xp6(1),g.Q6J("ngIf",!t.sendGameLoader),g.xp6(1),g.Q6J("ngIf",t.sendGameLoader),g.xp6(1),g.Q6J("ngIf",!t.showWordSection||!t.sendGameLoader))},directives:[a.O5,i.W2,i.YG,a.PC,i.jY,i.Nd,a.mk,i.wI,o.sW,i.Hr,a.sg,i.A$,i.gu,i.pK,i.j9,s.JJ,s.oH,i.I_,i.QI,s.On,i.fr],styles:['page-filters[_ngcontent-%COMP%]   .slide-zoom[_ngcontent-%COMP%]{color:#7d7d7d!important;font-size:13px!important}page-filters[_ngcontent-%COMP%]   .range-bar[_ngcontent-%COMP%]{top:27px!important;height:10px!important}page-filters[_ngcontent-%COMP%]   .range-knob[_ngcontent-%COMP%]{width:39px!important;height:39px!important}page-filters[_ngcontent-%COMP%]   .range-pin[_ngcontent-%COMP%]{left:10px!important}page-filters[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   .slide-zoom[_ngcontent-%COMP%]{width:auto!important}page-filters[_ngcontent-%COMP%]   ion-slides[_ngcontent-%COMP%]{height:35vh}page-filters[_ngcontent-%COMP%]   #back[_ngcontent-%COMP%]{padding:15px 15px 35px;position:relative}page-filters[_ngcontent-%COMP%]   #back-img[_ngcontent-%COMP%]{margin:auto;float:left;height:auto;width:10%}page-filters[_ngcontent-%COMP%]   .gu-mirror[_ngcontent-%COMP%]{position:fixed!important;margin:0!important;z-index:9999!important;opacity:.8;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";filter:alpha(opacity=80);pointer-events:none}page-filters[_ngcontent-%COMP%]   .gu-hide[_ngcontent-%COMP%]{left:-9999px!important}page-filters[_ngcontent-%COMP%]   .gu-unselectable[_ngcontent-%COMP%]{-webkit-user-select:none!important;user-select:none!important}page-filters[_ngcontent-%COMP%]   .gu-transit[_ngcontent-%COMP%]{opacity:.2;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";filter:alpha(opacity=20)}page-filters[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   .scroll-content[_ngcontent-%COMP%]{background:#000!important;overflow-y:hidden!important}page-filters[_ngcontent-%COMP%]   .selectedSegment[_ngcontent-%COMP%]{font-weight:700;color:#fff}page-filters[_ngcontent-%COMP%]   .notSelected[_ngcontent-%COMP%]{color:#fff;opacity:.5}.toHide1[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]:nth-child(2), .toHide2[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]:nth-child(2), .toHide3[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]:nth-child(2), .toHide[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]:nth-child(2){display:none!important}.spaceinrow[_ngcontent-%COMP%]{display:flex;justify-content:space-between}#container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:100%!important}.main-footer[_ngcontent-%COMP%]{background:#000!important}.main-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly;padding:0;margin:0;list-style:none}.main-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:16px;font-weight:500}.top-buttons-head[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;background:linear-gradient(180deg,#6976b9,#6976b9c2)}.top-buttons-head[_ngcontent-%COMP%]   .in-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#0f77f0;border-radius:20px;font-size:14px;padding:0 25px}.cus-btn[_ngcontent-%COMP%]{--background:#99c43c;--border-radius:30px;width:auto;font-size:14px;letter-spacing:.03em}.loaderContainer[_ngcontent-%COMP%]{min-height:50vh;display:flex;justify-content:center;align-items:center}']}),e})()}];let B=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[r.Bz.forChild(E)],r.Bz]}),e})(),Y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({providers:[o.pQ],imports:[[a.ez,s.u5,i.Pc,B,o.qE,s.UX]]}),e})()}}]);