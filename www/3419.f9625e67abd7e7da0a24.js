(self.webpackChunkpic_playce=self.webpackChunkpic_playce||[]).push([[3419],{3419:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ContactlistPageModule:()=>_});var i=n(8583),o=n(665),s=n(7823),r=n(8977),a=n(4762),c=n(7673),l=n(8259),d=n.n(l),g=n(639),u=n(5263),h=n(421),p=n(2423);function m(e,t){1&e&&(g.TgZ(0,"div",8),g._UZ(1,"div",9),g.qZA())}function f(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"ion-item-sliding",15),g.TgZ(1,"ion-item"),g.TgZ(2,"ion-label"),g.TgZ(3,"h2"),g._uU(4),g.qZA(),g.qZA(),g.TgZ(5,"ion-button",16),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).selectDifficultyLevel(t.id)}),g._uU(6," Play "),g.qZA(),g.qZA(),g.TgZ(7,"ion-item-options",17),g.TgZ(8,"ion-item-option",18),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(2).onDelFriend(t.id)}),g._UZ(9,"ion-icon",19),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=t.$implicit;g.xp6(4),g.Oqu(e.user_name)}}function x(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"ion-row"),g.TgZ(1,"ion-col",10),g.TgZ(2,"div",11),g.TgZ(3,"ion-list"),g.YNc(4,f,10,1,"ion-item-sliding",12),g.qZA(),g.TgZ(5,"div",13),g.TgZ(6,"ion-button",14),g.NdJ("click",function(){return g.CHM(e),g.oxw().onRandomPlay()}),g.TgZ(7,"b"),g._uU(8,"+ Play Random"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=g.oxw();g.xp6(4),g.Q6J("ngForOf",e.freindList)}}function C(e,t){if(1&e){const e=g.EpF();g.TgZ(0,"ion-item",23),g.NdJ("click",function(){const t=g.CHM(e).$implicit;return g.oxw(3).openDialogBox(t)}),g.TgZ(1,"ion-label"),g.TgZ(2,"h2"),g._uU(3),g.qZA(),g.qZA(),g.qZA()}if(2&e){const e=t.$implicit;g.xp6(3),g.Oqu(e.user_name)}}function w(e,t){if(1&e&&(g.TgZ(0,"ion-col",10),g.TgZ(1,"div",21),g.YNc(2,C,4,1,"ion-item",22),g.qZA(),g.qZA()),2&e){const e=g.oxw(2);g.xp6(2),g.Q6J("ngForOf",e.usernameSearchRes)}}function b(e,t){1&e&&(g.TgZ(0,"ion-col"),g.TgZ(1,"p"),g._uU(2,"No user Found"),g.qZA(),g.qZA())}function Z(e,t){if(1&e&&(g.TgZ(0,"ion-row"),g.YNc(1,w,3,1,"ion-col",20),g.YNc(2,b,3,0,"ion-col",7),g.qZA()),2&e){const e=g.oxw();g.xp6(1),g.Q6J("ngIf",e.usernameSearchRes.length),g.xp6(1),g.Q6J("ngIf",!e.usernameSearchRes.length)}}const y=function(){return["/main"]},v=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o,s,r){this.photoService=e,this.alertController=t,this.router=n,this.activatedRoute=i,this.restService=o,this.loadingController=s,this.spinnerDialog=r,this.freindList=[],this.showUserList=!1,this.usernameSearchRes=[],this.gameType="easy",this.gameLevel=4,this.showFilterPageLoader=!1}ngOnInit(){console.log(this.activatedRoute.snapshot.paramMap.get("friend_id")),this.user=JSON.parse(localStorage.getItem("user"));const e=this.activatedRoute.snapshot.paramMap.get("friend_id");e&&(console.log("---------------\x3e"),this.cameraOrGallery(e)),this.getFriendList()}ionViewDidEnter(){console.log(this.activatedRoute.snapshot.paramMap.get("friend_id")),this.user=JSON.parse(localStorage.getItem("user"));const e=this.activatedRoute.snapshot.paramMap.get("friend_id");e&&this.cameraOrGallery(e),this.getFriendList()}cameraOrGallery(e){return(0,a.mG)(this,void 0,void 0,function*(){const t=yield this.alertController.create({message:"Please Select.",buttons:[{text:"Gallery",role:"gallery",cssClass:"secondary",handler:()=>{this.getPicture(c.oK.Photos,e)}},{text:"Camera",role:"camera",handler:()=>{this.getPicture(c.oK.Camera,e)}}]});yield t.present()})}getPicture(e,t){return(0,a.mG)(this,void 0,void 0,function*(){this.showFilterPageLoader=!0;const n=yield this.photoService.addNewToGallery(e);if(n.base64String){localStorage.setItem("base64String1",""),localStorage.setItem("base64String2",""),localStorage.setItem("puzzleImage",""),this.showFilterPageLoader=!0;var i=n.base64String.length/2;localStorage.setItem("base64String1",n.base64String.substr(0,i)),localStorage.setItem("base64String2",n.base64String.substr(i)),this.router.navigate(["filter",{userId:t,gameType:this.gameType}],{replaceUrl:!0})}else this.showFilterPageLoader=!1})}presentLoading(){return(0,a.mG)(this,void 0,void 0,function*(){const e=yield this.loadingController.create({cssClass:"my-custom-class",message:"Please wait...",duration:2e3});yield e.present(),yield e.onDidDismiss(),console.log("Loading dismissed!")})}onSearchByUsername(e){let t=e.target.value;this.showUserList=!0,this.restService.postRequestToken("users/user-name",{user_name:t}).subscribe(e=>{this.usernameSearchRes=e.user})}onCancelSearch(){this.showUserList=!1}openDialogBox(e){d().fire({text:"Are you want to add as friend ",confirmButtonText:"Yes",confirmButtonColor:"#99C43C",showCancelButton:!0,allowOutsideClick:!1,cancelButtonColor:"#E86B5D",cancelButtonText:"Cancel"}).then(t=>{t.isConfirmed&&this.addFriendNameByUsername(e)})}selectDifficultyLevel(e){d().fire({customClass:{actions:"vertical-buttons",cancelButton:this.gameLevel>4?"top-margin":"top-margin disable",confirmButton:"font-size1"},title:"Select Difficulty Level",confirmButtonText:"Easy",confirmButtonColor:"#99C43C",showCancelButton:!0,cancelButtonColor:"#ebb434",cancelButtonText:this.user.level_id<4?"Medium (Unlock at level 5)":"Medium"}).then(t=>{console.log("swal-result",t),"backdrop"!=t.dismiss&&(this.gameType="cancel"==t.dismiss?"medium":1==t.value?"easy":"",this.cameraOrGallery(e))})}onRandomPlay(){this.spinnerDialog.show(),this.restService.getRequest("users/play-random").subscribe(e=>{if(e.status){let t=this.getRandomInt(e.message.length);t<0?(this.spinnerDialog.hide(),d().fire({title:'<img src="assets/icon/questionmark.png" style="width: 20vw; height:20vw;">',text:"No User is Found ",cancelButtonColor:"#E86B5D",cancelButtonText:"Cancel"})):(this.spinnerDialog.hide(),d().fire({title:'<img src="assets/icon/questionmark.png" style="width: 20vw; height:20vw;">',text:"Match found with "+e.message[t].user_name,confirmButtonText:"Let's play!",confirmButtonColor:"#99C43C",showCancelButton:!0,allowOutsideClick:!1,cancelButtonColor:"#E86B5D",cancelButtonText:"Cancel"}).then(n=>{n.value&&this.selectDifficultyLevel(e.message[t].id)}))}})}getRandomInt(e){return Math.floor(Math.random()*Math.floor(e))}onDelFriend(e){const t={friend_id:e};d().fire({title:"Remove",text:"Are you sure to remove this user?",showCancelButton:!0,showConfirmButton:!0}).then(n=>{n.isConfirmed&&this.restService.delRequest("contacts/delete",t).subscribe(t=>{const n=this.freindList.filter(t=>t.id!=e);this.freindList=n})})}addFriendNameByUsername(e){this.restService.postRequestToken("contacts/add-username",{friend_id:e.id}).subscribe(e=>{e&&(this.showUserList=!1,d().fire({title:"Success",text:"Friend Added",confirmButtonText:"Cool"}),this.getFriendList())})}getFriendList(){this.restService.getRequest("contacts/listing").subscribe(e=>{this.freindList=e.filter(e=>e.id!=this.user.id),this.freindList.length||(this.showFilterPageLoader=!1)})}}return e.\u0275fac=function(t){return new(t||e)(g.Y36(u.T),g.Y36(s.Br),g.Y36(r.F0),g.Y36(r.gz),g.Y36(h.v),g.Y36(s.HT),g.Y36(p.K))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-contactlist"]],decls:14,vars:5,consts:[[1,"top-container"],[1,"top-body"],[1,"icon",3,"routerLink"],["src","assets/icon/back-icon.svg"],[1,"text"],["show-cancel-button","focus","placeholder","Search by Name or User Name",1,"cus-search-bar",3,"ionChange","ionCancel"],["class","loaderContainer",4,"ngIf"],[4,"ngIf"],[1,"loaderContainer"],[1,"loader1"],["size","12"],[1,"card"],["id","item100","class","mt-2",4,"ngFor","ngForOf"],[1,"mt-45","align-end"],[1,"cus-btn-lg",3,"click"],["id","item100",1,"mt-2"],["slot","end",1,"cus-btn",3,"click"],["side","end"],["color","danger",3,"click"],["slot","icon-only","name","trash"],["size","12",4,"ngIf"],[1,"scrollDiv"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(e,t){1&e&&(g.TgZ(0,"ion-grid"),g.TgZ(1,"div",0),g.TgZ(2,"div",1),g.TgZ(3,"div",2),g._UZ(4,"ion-icon",3),g.qZA(),g.TgZ(5,"div",4),g._uU(6,"Add Contact"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(7,"ion-row"),g.TgZ(8,"div"),g.TgZ(9,"div"),g.TgZ(10,"ion-searchbar",5),g.NdJ("ionChange",function(e){return t.onSearchByUsername(e)})("ionCancel",function(){return t.onCancelSearch()}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(11,m,2,0,"div",6),g.YNc(12,x,9,1,"ion-row",7),g.YNc(13,Z,3,2,"ion-row",7),g.qZA()),2&e&&(g.xp6(3),g.Q6J("routerLink",g.DdM(4,y)),g.xp6(8),g.Q6J("ngIf",t.showFilterPageLoader),g.xp6(1),g.Q6J("ngIf",!t.showUserList&&!t.showFilterPageLoader),g.xp6(1),g.Q6J("ngIf",t.showUserList))},directives:[s.jY,s.YI,r.rH,s.gu,s.Nd,s.VI,s.j9,i.O5,s.wI,s.q_,i.sg,s.YG,s.td,s.Ie,s.Q$,s.IK,s.u8],styles:["h2[_ngcontent-%COMP%]{font-family:Poppins;letter-spacing:.03em;font-style:normal;font-weight:700;font-size:15px}.top[_ngcontent-%COMP%]{width:100vw;height:107px;background:linear-gradient(180deg,#6976b9,#6976b9c2);box-shadow:0 5px 10px #49494940}ion-button[_ngcontent-%COMP%]{font-family:Poppins}.v-cntr[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}.ml-50[_ngcontent-%COMP%]{margin-left:50px}.header-text[_ngcontent-%COMP%]{letter-spacing:.03em;font-family:Poppins;font-style:normal;font-weight:400;font-size:20px;line-height:30px;color:#fff}.cus-btn[_ngcontent-%COMP%]{--background:#99c43c;--border-radius:30px;width:87px;height:28px;font-size:14px;letter-spacing:.03em}ion-item[_ngcontent-%COMP%]{--inner-padding-bottom:10px;--inner-padding-top:10px}.card[_ngcontent-%COMP%]{width:95%;margin:auto;background:#fff;box-shadow:0 4px 20px #82828240;border-radius:20px;padding:15px}.mt-2[_ngcontent-%COMP%]{margin-top:2px}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.mt-45[_ngcontent-%COMP%]{margin-top:45px}.align-end[_ngcontent-%COMP%]{display:flex;justify-content:end}.cus-btn-lg[_ngcontent-%COMP%]{--color:#000;width:218px;height:53px;--background:#fff;--box-shadow:4px 7px 20px #6d6d6d45;--border-radius:90px;letter-spacing:.03em}.fw-500[_ngcontent-%COMP%]{font-weight:500}.top-container[_ngcontent-%COMP%]{display:flex;width:100%;min-height:107px;background:linear-gradient(180deg,#6976b9,#6976b9c2);box-shadow:0 5px 10px #49494940}.top-container[_ngcontent-%COMP%]   .top-body[_ngcontent-%COMP%]{width:90%;margin:auto;display:flex}.top-container[_ngcontent-%COMP%]   .top-body[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:auto;letter-spacing:.03em;font-family:Poppins;font-style:normal;font-weight:400;font-size:20px;color:#fff}.cus-search-bar[_ngcontent-%COMP%]{--border-radius:30px;--background:#fff;--box-shadow:inset 0px 3px 7px #a6a6a640}ion-grid[_ngcontent-%COMP%]{padding:0;margin:0}.loaderContainer[_ngcontent-%COMP%]{min-height:50vh;display:flex;justify-content:center;align-items:center}.scrollDiv[_ngcontent-%COMP%]{position:fixed;top:180px;left:2px;bottom:2px;width:100%;background-color:#eee;overflow-y:scroll}"]}),e})()}];let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[r.Bz.forChild(v)],r.Bz]}),e})();var P=n(7560);let _=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({providers:[P.zB],imports:[[i.ez,o.u5,s.Pc,T]]}),e})()}}]);