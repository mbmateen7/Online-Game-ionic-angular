(self.webpackChunkpic_playce=self.webpackChunkpic_playce||[]).push([[6941],{6941:(n,t,e)=>{"use strict";e.r(t),e.d(t,{AddContactPageModule:()=>w});var o=e(8583),i=e(665),r=e(7823),s=e(8977),c=e(4762),a=e(8259),l=e.n(a),d=e(639),g=e(7560),p=e(421);function u(n,t){if(1&n){const n=d.EpF();d.TgZ(0,"ion-row"),d.TgZ(1,"ion-col",7),d.TgZ(2,"ion-item",8),d.NdJ("click",function(){return d.CHM(n),d.oxw().onImportContacts()}),d._UZ(3,"ion-icon",9),d.TgZ(4,"ion-label"),d.TgZ(5,"h2"),d._uU(6,"Import Contacts"),d.qZA(),d.TgZ(7,"p"),d._uU(8,"Add from mobile address book"),d.qZA(),d.qZA(),d._UZ(9,"ion-icon",10),d.qZA(),d.qZA(),d.qZA()}}function h(n,t){if(1&n){const n=d.EpF();d.TgZ(0,"ion-item",14),d.NdJ("click",function(){const t=d.CHM(n).$implicit;return d.oxw(3).openDialogBox(t)}),d.TgZ(1,"ion-label"),d.TgZ(2,"h2"),d._uU(3),d.qZA(),d.qZA(),d.qZA()}if(2&n){const n=t.$implicit;d.xp6(3),d.Oqu(n.user_name)}}function f(n,t){if(1&n&&(d.TgZ(0,"ion-col",7),d.YNc(1,h,4,1,"ion-item",13),d.qZA()),2&n){const n=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",n.usernameSearchRes)}}function m(n,t){1&n&&(d.TgZ(0,"ion-col"),d.TgZ(1,"p"),d._uU(2,"No user Found"),d.qZA(),d.qZA())}function x(n,t){if(1&n&&(d.TgZ(0,"ion-row"),d.TgZ(1,"div",11),d.YNc(2,f,2,1,"ion-col",12),d.YNc(3,m,3,0,"ion-col",6),d.qZA(),d.qZA()),2&n){const n=d.oxw();d.xp6(2),d.Q6J("ngIf",n.usernameSearchRes.length),d.xp6(1),d.Q6J("ngIf",!n.usernameSearchRes.length)}}const C=function(){return["/main"]},b=[{path:"",component:(()=>{class n{constructor(n,t,e,o){this.contacts=n,this.restSerice=t,this.router=e,this.alertController=o,this.contactList=[],this.showUserList=!1,this.usernameSearchRes=[]}ngOnInit(){}presentAlert(n,t,e){return(0,c.mG)(this,void 0,void 0,function*(){let o=[];o=n?[{text:"No",role:"no",cssClass:"secondary",handler:n=>{console.log("Confirm Cancel: blah")}},{text:"yes",handler:()=>{this.addFriendNameByUsername(n)}}]:[{text:"OK"}];const i=yield this.alertController.create({header:t,subHeader:e,buttons:o});yield i.present();const{role:r}=yield i.onDidDismiss();console.log("onDidDismiss resolved with role",r)})}onImportContacts(){this.contacts.find(["displayName"]).then(n=>(0,c.mG)(this,void 0,void 0,function*(){const t=yield n;this.getNumbersArrayOnly(t)}))}getNumbersArrayOnly(n){for(const t of n)t.phoneNumbers&&t.phoneNumbers.forEach(n=>{if(n.value.replace(/ /g,"")){const t=n.value.replace(/ /g,"");this.contactList.push(t)}});this.checkContactFromServer(JSON.stringify(this.contactList))}checkContactFromServer(n){this.restSerice.postRequestToken("contacts/contact-exist",{contacts_array:n}).subscribe(n=>{const t=JSON.stringify(n.save_contacts);this.router.navigate(["/main/freind",{user:t}])})}onSearchByUsername(n){let t=n.target.value;this.showUserList=!0,this.restSerice.postRequestToken("users/user-name",{user_name:t}).subscribe(n=>{this.usernameSearchRes=n.user})}onCancelSearch(){this.showUserList=!1}openDialogBox(n){l().fire({text:"Are you want to add as friend ",confirmButtonText:"Yes",confirmButtonColor:"#99C43C",showCancelButton:!0,allowOutsideClick:!1,cancelButtonColor:"#E86B5D",cancelButtonText:"Cancel"}).then(t=>{t.isConfirmed&&this.addFriendNameByUsername(n)})}addFriendNameByUsername(n){this.restSerice.postRequestToken("contacts/add-username",{friend_id:n.id}).subscribe(n=>{this.showUserList=!1,l().fire({title:"Success",text:n.message,confirmButtonText:"Cool"}),this.router.navigate(["/main/freind",{addFriend:!0}],{replaceUrl:!0})})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(g.zB),d.Y36(p.v),d.Y36(s.F0),d.Y36(r.Br))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-add-contact"]],decls:13,vars:4,consts:[[1,"top-container"],[1,"top-body"],[1,"icon",3,"routerLink"],["src","assets/icon/back-icon.svg"],[1,"text"],["show-cancel-button","focus","placeholder","Search by Name or User Name",1,"cus-search-bar",3,"ionChange","ionCancel"],[4,"ngIf"],["size","12"],["lines","none",3,"click"],["src","assets/icon/phone.svg","slot","start"],["src","assets/icon/fwd.svg","slot","end"],[1,"scrollDiv"],["size","12",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(n,t){1&n&&(d.TgZ(0,"ion-grid"),d.TgZ(1,"div",0),d.TgZ(2,"div",1),d.TgZ(3,"div",2),d._UZ(4,"ion-icon",3),d.qZA(),d.TgZ(5,"div",4),d._uU(6,"Add Contact"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(7,"ion-row"),d.TgZ(8,"div"),d.TgZ(9,"div"),d.TgZ(10,"ion-searchbar",5),d.NdJ("ionChange",function(n){return t.onSearchByUsername(n)})("ionCancel",function(){return t.onCancelSearch()}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.YNc(11,u,10,0,"ion-row",6),d.YNc(12,x,4,2,"ion-row",6),d.qZA()),2&n&&(d.xp6(3),d.Q6J("routerLink",d.DdM(3,C)),d.xp6(8),d.Q6J("ngIf",!t.showUserList),d.xp6(1),d.Q6J("ngIf",t.showUserList))},directives:[r.jY,r.YI,s.rH,r.gu,r.Nd,r.VI,r.j9,o.O5,r.wI,r.Ie,r.Q$,o.sg],styles:["h2[_ngcontent-%COMP%]{font-family:Poppins;letter-spacing:.03em;font-style:normal;font-weight:700;font-size:15px}.top[_ngcontent-%COMP%]{width:100vw;height:107px;background:linear-gradient(180deg,#6976b9,#6976b9c2);box-shadow:0 5px 10px #49494940}ion-button[_ngcontent-%COMP%]{font-family:Poppins}.v-cntr[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}.ml-50[_ngcontent-%COMP%]{margin-left:50px}.header-text[_ngcontent-%COMP%]{letter-spacing:.03em;font-family:Poppins;font-style:normal;font-weight:400;font-size:20px;line-height:30px;color:#fff}.cus-btn[_ngcontent-%COMP%]{--background:#99c43c;--border-radius:30px;width:87px;height:28px;font-size:14px;letter-spacing:.03em}ion-item[_ngcontent-%COMP%]{--inner-padding-bottom:10px;--inner-padding-top:10px}.card[_ngcontent-%COMP%]{width:95%;margin:auto;background:#fff;box-shadow:0 4px 20px #82828240;border-radius:20px;padding:15px}.mt-2[_ngcontent-%COMP%]{margin-top:2px}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.mt-45[_ngcontent-%COMP%]{margin-top:45px}.align-end[_ngcontent-%COMP%]{display:flex;justify-content:end}.cus-btn-lg[_ngcontent-%COMP%]{--color:#000;width:218px;height:53px;--background:#fff;--box-shadow:4px 7px 20px #6d6d6d45;--border-radius:90px;letter-spacing:.03em}.fw-500[_ngcontent-%COMP%]{font-weight:500}ion-grid[_ngcontent-%COMP%]{padding:0;margin:0}.body-container[_ngcontent-%COMP%]{border-color:#e5e5e5;min-height:auto}.top-container[_ngcontent-%COMP%]{display:flex;width:100%;min-height:107px;background:linear-gradient(180deg,#6976b9,#6976b9c2);box-shadow:0 5px 10px #49494940}.top-container[_ngcontent-%COMP%]   .top-body[_ngcontent-%COMP%]{width:90%;margin:auto;display:flex}.top-container[_ngcontent-%COMP%]   .top-body[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:auto;letter-spacing:.03em;font-family:Poppins;font-style:normal;font-weight:400;font-size:20px;color:#fff}.cus-search-bar[_ngcontent-%COMP%]{--border-radius:30px;--background:#fff;--box-shadow:inset 0px 3px 7px #a6a6a640}.scrollDiv[_ngcontent-%COMP%]{position:fixed;top:180px;left:2px;bottom:2px;width:100%;background-color:#eee;overflow-y:scroll}"]}),n})()}];let Z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[s.Bz.forChild(b)],s.Bz]}),n})(),w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[g.zB],imports:[[o.ez,i.u5,r.Pc,Z]]}),n})()}}]);